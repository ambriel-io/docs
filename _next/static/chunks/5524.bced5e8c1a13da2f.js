"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5524],{5524:(t,e,n)=>{n.r(e),n.d(e,{createOnigurumaEngine:()=>r.Mk,getDefaultWasmLoader:()=>r.X,loadWasm:()=>r.ti,setDefaultWasmLoader:()=>r.xz});var r=n(57754)},57754:(t,e,n)=>{let r,f;n.d(e,{Mk:()=>A,X:()=>m,ti:()=>U,xz:()=>_});var i=n(49641).Buffer;class s extends Error{constructor(t){super(t),this.name="ShikiError"}}function a(){return"undefined"!=typeof performance?performance.now():Date.now()}let o=(t,e)=>t+(e-t%e)%e;async function u(t){let e,n,r={};function f(t){n=t,r.HEAPU8=new Uint8Array(t),r.HEAPU32=new Uint32Array(t)}let i="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function s(t,e){return t?function(t,e,n=1024){let r=e+n,f=e;for(;t[f]&&!(f>=r);)++f;if(f-e>16&&t.buffer&&i)return i.decode(t.subarray(e,f));let s="";for(;e<f;){let n=t[e++];if(!(128&n)){s+=String.fromCharCode(n);continue}let r=63&t[e++];if((224&n)==192){s+=String.fromCharCode((31&n)<<6|r);continue}let f=63&t[e++];if((n=(240&n)==224?(15&n)<<12|r<<6|f:(7&n)<<18|r<<12|f<<6|63&t[e++])<65536)s+=String.fromCharCode(n);else{let t=n-65536;s+=String.fromCharCode(55296|t>>10,56320|1023&t)}}return s}(r.HEAPU8,t,e):""}let u={emscripten_get_now:a,emscripten_memcpy_big:function(t,e,n){r.HEAPU8.copyWithin(t,e,e+n)},emscripten_resize_heap:function(t){let i=r.HEAPU8.length;if((t>>>=0)>0x80000000)return!1;for(let r=1;r<=4;r*=2){let s=i*(1+.2/r);if(s=Math.min(s,t+0x6000000),function(t){try{return e.grow(t-n.byteLength+65535>>>16),f(e.buffer),1}catch{}}(Math.min(0x80000000,o(Math.max(t,s),65536))))return!0}return!1},fd_write:()=>0};async function h(){let n=await t({env:u,wasi_snapshot_preview1:u});f((e=n.memory).buffer),Object.assign(r,n),r.UTF8ToString=s}return await h(),r}var h=Object.defineProperty,l=(t,e,n)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c=(t,e,n)=>l(t,"symbol"!=typeof e?e+"":e,n);let d=null;class g{constructor(t){c(this,"utf16Length"),c(this,"utf8Length"),c(this,"utf16Value"),c(this,"utf8Value"),c(this,"utf16OffsetToUtf8"),c(this,"utf8OffsetToUtf16");let e=t.length,n=g._utf8ByteLength(t),r=n!==e,f=r?new Uint32Array(e+1):null;r&&(f[e]=n);let i=r?new Uint32Array(n+1):null;r&&(i[n]=e);let s=new Uint8Array(n),a=0;for(let n=0;n<e;n++){let o=t.charCodeAt(n),u=o,h=!1;if(o>=55296&&o<=56319&&n+1<e){let e=t.charCodeAt(n+1);e>=56320&&e<=57343&&(u=(o-55296<<10)+65536|e-56320,h=!0)}r&&(f[n]=a,h&&(f[n+1]=a),u<=127?i[a+0]=n:u<=2047?(i[a+0]=n,i[a+1]=n):u<=65535?(i[a+0]=n,i[a+1]=n,i[a+2]=n):(i[a+0]=n,i[a+1]=n,i[a+2]=n,i[a+3]=n)),u<=127?s[a++]=u:(u<=2047?s[a++]=192|(1984&u)>>>6:(u<=65535?s[a++]=224|(61440&u)>>>12:(s[a++]=240|(1835008&u)>>>18,s[a++]=128|(258048&u)>>>12),s[a++]=128|(4032&u)>>>6),s[a++]=128|(63&u)>>>0),h&&n++}this.utf16Length=e,this.utf8Length=n,this.utf16Value=t,this.utf8Value=s,this.utf16OffsetToUtf8=f,this.utf8OffsetToUtf16=i}static _utf8ByteLength(t){let e=0;for(let n=0,r=t.length;n<r;n++){let f=t.charCodeAt(n),i=f,s=!1;if(f>=55296&&f<=56319&&n+1<r){let e=t.charCodeAt(n+1);e>=56320&&e<=57343&&(i=(f-55296<<10)+65536|e-56320,s=!0)}i<=127?e+=1:i<=2047?e+=2:i<=65535?e+=3:e+=4,s&&n++}return e}createString(t){let e=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,e),e}}let y=class t{constructor(e){if(c(this,"id",++t.LAST_ID),c(this,"_onigBinding"),c(this,"content"),c(this,"utf16Length"),c(this,"utf8Length"),c(this,"utf16OffsetToUtf8"),c(this,"utf8OffsetToUtf16"),c(this,"ptr"),!d)throw new s("Must invoke loadWasm first.");this._onigBinding=d,this.content=e;let n=new g(e);this.utf16Length=n.utf16Length,this.utf8Length=n.utf8Length,this.utf16OffsetToUtf8=n.utf16OffsetToUtf8,this.utf8OffsetToUtf16=n.utf8OffsetToUtf16,this.utf8Length<1e4&&!t._sharedPtrInUse?(t._sharedPtr||(t._sharedPtr=d.omalloc(1e4)),t._sharedPtrInUse=!0,d.HEAPU8.set(n.utf8Value,t._sharedPtr),this.ptr=t._sharedPtr):this.ptr=n.createString(d)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===t._sharedPtr?t._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};c(y,"LAST_ID",0),c(y,"_sharedPtr",0),c(y,"_sharedPtrInUse",!1);class p{constructor(t){if(c(this,"_onigBinding"),c(this,"_ptr"),!d)throw new s("Must invoke loadWasm first.");let e=[],n=[];for(let r=0,f=t.length;r<f;r++){let f=new g(t[r]);e[r]=f.createString(d),n[r]=f.utf8Length}let r=d.omalloc(4*t.length);d.HEAPU32.set(e,r/4);let f=d.omalloc(4*t.length);d.HEAPU32.set(n,f/4);let i=d.createOnigScanner(r,f,t.length);for(let n=0,r=t.length;n<r;n++)d.ofree(e[n]);d.ofree(f),d.ofree(r),0===i&&function(t){throw new s(t.UTF8ToString(t.getLastOnigError()))}(d),this._onigBinding=d,this._ptr=i}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,e,n){let r=0;if("number"==typeof n&&(r=n),"string"==typeof t){t=new y(t);let n=this._findNextMatchSync(t,e,!1,r);return t.dispose(),n}return this._findNextMatchSync(t,e,!1,r)}_findNextMatchSync(t,e,n,r){let f=this._onigBinding,i=f.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(e),r);if(0===i)return null;let s=f.HEAPU32,a=i/4,o=s[a++],u=s[a++],h=[];for(let e=0;e<u;e++){let n=t.convertUtf8OffsetToUtf16(s[a++]),r=t.convertUtf8OffsetToUtf16(s[a++]);h[e]={start:n,end:r,length:r-n}}return{index:o,captureIndices:h}}}function U(t){return r||(r=async function(){d=await u(async e=>{let n=t;if("function"==typeof(n=await n)&&(n=await n(e)),"function"==typeof n&&(n=await n(e)),"function"==typeof n.instantiator)n=await n.instantiator(e);else if("function"==typeof n.default)n=await n.default(e);else{var r,f,s,a;if(void 0!==n.data&&(n=n.data),r=n,"undefined"!=typeof Response&&r instanceof Response){n="function"==typeof WebAssembly.instantiateStreaming?await (s=n,t=>WebAssembly.instantiateStreaming(s,t))(e):await (a=n,async t=>{let e=await a.arrayBuffer();return WebAssembly.instantiate(e,t)})(e)}else(f=n,"undefined"!=typeof ArrayBuffer&&(f instanceof ArrayBuffer||ArrayBuffer.isView(f))||void 0!==i&&i.isBuffer?.(f)||"undefined"!=typeof SharedArrayBuffer&&f instanceof SharedArrayBuffer||"undefined"!=typeof Uint32Array&&f instanceof Uint32Array||n instanceof WebAssembly.Module)?n=await w(n)(e):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await w(n.default)(e))}return"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}())}function w(t){return e=>WebAssembly.instantiate(t,e)}function _(t){f=t}function m(){return f}async function A(t){return t&&await U(t),{createScanner:t=>new p(t.map(t=>"string"==typeof t?t:t.source)),createString:t=>new y(t)}}}}]);